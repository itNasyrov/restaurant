# restaurant
## Модуль Бронирование (Booking)

### Назначение

Модуль Бронирование предназначен для работы с бронированием ресторана с целью 
проведения в нем различных мероприятия. мероприятий. Модуль предоставляет возможность
пользованием календарем, где события подбираются к желаемому времени бронирования. 
 Модуль позволяет:
 * добавлять, удалять, обновлять, просматривать бронирование
 * проверять доступные даты для брони за период
 * проверять наличие свободной даты для брони
 * получать информацию о бронировании
 
### Структура

##### Бронирование (booking)
1. **id** long — первичный ключ    
2. **dateBegin** timestamp — дата и время начала брони
3. **dateEnd** timestamp — дата и время окончания брони
3. **idEvent** integer — внешний ключ мероприятия                         
4. **idMenu** integer — внешний ключ меню
5. **priceOfEventAndMenu** BigDecimal — цена за бронь мероприятия + меню вместе
6. **client** String — имя клиента             
7. **phone** String — номер телефона клиента
8. **quantity** integer — количество приглашенных людей на мероприятие                  



### Обращение к модулю
Обращение к модулю осуществляется на основании REST запросов с корнем

 ```/booking```
 
#### Список запросов REST:

1. Добавить бронь:
    
   ```/add```
   
    Post метод. Производится добавление данных о брони, находящихся в теле запроса, в БД.
   
2. Получить бронь:
     
   ```/all```
    Получить список всех бронирований.
    Get метод. Производится получение списка существующих бронирований в БД. 

3. Обновить бронь:
        
      ```/update```
       
   Post метод. Производится обновление существующей брони в БД. Обновленные данные расположены в теле запроса.
3. Просмотреть бронь по указанному номеру брони: 
 
   ```/get/id/{id}```
   
    Get метод. В запросе передается номер брони {id}. В ответе получаем данные о брони.  
 
4. Удалить бронь по указанному номеру брони:  
 
   ```/delete/{id}```
   
   Delete метод. Удаляется бронь с указанным номером {id} из базы данных.
 
5. Получить список всех бронирований:
 
   ```/get/name/{name}```
   
   Get метод. Получаем список бронирований, относящимся к к одному клиенту по имени.   
6. Проильтровать доступные даты для брони:
 
   ```/filter/{dateBegin}/{dateEnd}```
   
   Get метод. Наглядно указаны доступные даты для бронирования.
 
7. Проверить все даты в свободном распоряжении: 
 
   ```/check/{dateBegin}/{dateEnd}```
   
   Get метод. Проверить свободна ли дата для бронирования.



## Модуль Мероприятие (Event)

### Назначение

Модуль Мероприятие является вспомогательным для самого бронирования мероприятий.
Модуль предоставляет возможность регистрировать сами мероприятия. Также его важная
составляющая часть это:
 * добавлять, удалять, изменять, просматривать регистрацию мероприятий
 * дополнять комментарием или описанием любое мероприятие
 * получать информацию о цене мероприятия
 
### Структура

##### Мероприятие (event)
1. **id** long — первичный ключ    
2. **name** String — название мероприятия                 
3. **description** String — описание и комментрии к мероприятию
4. **price** double — цена за мероприятие                  
                      

  
### Обращение к модулю
Обращение к модулю осуществляется на основании REST запросов с корнем

 ```/event```
 
#### Список запросов REST:

1. Добавить мероприятие:
    
   ```/add```
   
    Post метод. Производится добавление данных о мероприятии, находящихся в теле запроса, в БД.
   
2. Получить мероприятие:
     
   ```/all```
    Получить список всех мероприятий.
    Get метод. Производится получение списка существующих мероприятий в БД. 

3. Удалить мероприятие по указанному номеру мероприятия:  
    
      ```/delete/{id}```
      
    Delete метод. Удаляется мероприятие с указанным номером {id} из базы данных.
4. Просмотреть мероприятие по указанному номеру мероприятия: 
 
   ```/update```
   
    Get метод. В запросе передается номер мероприятия {id}. В ответе получаем данные о мероприятии.  
 
5. Получить мероприятие:
 
   ```/get/id/{id}```
   
   Get метод. Получаем мероприятие по относящемуся к нему ID (номеру).   
6. Получить мероприятие:
 
   ```/get/name/{name}```
   
   Get метод. Получаем мероприятие по относящемуся к нему имени. 

## Модуль Заказы (Order)

### Назначение

Модуль Заказы предназначен для работы с заказами, сформированными 
из блюд меню. Заказ состоит из основной части, характеризующей заказ, и переменной части,
состоящей из блюд меню. Модуль позволяет:
 * добавлять, удалять, обновлять, просматривать заказы
 * добавлять блюда в заказ
 * менять статус заказа
 * получать информацию о заказах 
 
### Структура

##### Заказы (orders)
1. **id** bigint — первичный ключ    
2. **date** timestamp — дата и время заказа  
3. **date_ready** timestamp — дата и время выполнения заказа
3. **customer character** varying(255) — заказчик
4. **tableNumber** integer — номер столика
5. **status** character varying(20) — статус заказа [новый, готов]
6. **comment** character varying(255) — комментарий к заказа

##### Строчки заказа (order_items)
1. **id** bigint — первичный ключ    
2. **name** character varying(255) — наименование блюда   
3. **amount** integer — количество

### Обращение к модулю
Обращение к модулю осуществляется на основании REST запросов с корнем

 ```/order```
 
#### Список запросов REST:

1. Добавить заказ.  
    
   ```/add```
   
    Post метод. Производится добавление данных о заказе, находящихся в теле запроса, в БД.
   
2. Обновить заказ.
     
   ```/update```
   
    Post метод. Производится обновление существующего заказа в БД. Обновленные данные расположены в теле запроса.
   
3. Просмотреть заказ по указанному номеру заказа: 
 
   ```/get/{id}```
   
    Get метод. В запросе передается номер заказ {id}. В ответе получаем данные о заказе. Если заказ с номером {id} не найден, то возвращается пустой ответ. 
 
4. Удалить заказ по указанному номеру заказа:  
 
   ```/delete/{id}```
   
   Delete метод. Удаляется заказ с указанным номером {id} из базы данных.
 
5. Получить список заказов, относящимуся к определенному столику. 
 
   ```/table/{table}```
   
   Get метод. Получаем список заказов, относящимся к столику, номер которого {table} указан в запросе.
   
6. Получить список всех заказов. 
 
   ```/all```
   
   Get метод. Получаем список всех заказов из БД.
 
7. Получить список заказов с определенным статусом. 
 
   ```/status/{status}```
   
   Get метод. Получаем список заказов из БД со статусом, введенном в запросе {status}. Если указан несуществующий статус, возвращается пустой список.
  
8. Получаем последний заказ для столика.
  
   ```/lastorder/{table}```
   
   Get метод. Получаем последний заказ для столика, номер которого {table} указан в запросе.                                                            

9. Добавить блюдо в заказ.
  
   ```/additem/{id}```
   
   Get метод. Производится добавление блюда, передаваемого в теле запроса, к 
    заказу, номер которого {id} задается.
  
10. Изменить состояние заказа. 
 
    ```/changestatus/{id}/{status}```
    
     Post метод. Меняем сосояние заказ {status} для заказа с номером {id}. Если введем несуществующий номер заказа, то возвращается пустой ответ. 
     Если введем несуществующий статус, то статус заказа не изменится.
     Если введем статус *готов*, то поле **date_ready** заказа заполняется текущими датой и временем.
